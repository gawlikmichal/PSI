close all; clear all; clc;

%ustawiamy zakres bramki wej?ciowej
bramka_wejsciowa = [0 1; 0 1; 0 1; 0 1; 0 1; 
                    0 1; 0 1; 0 1; 0 1; 0 1; 
                    0 1; 0 1; 0 1; 0 1; 0 1; 
                    0 1; 0 1; 0 1; 0 1; 0 1; 
                    0 1; 0 1; 0 1; 0 1; 0 1;]; 
%perceptron
net = newp(bramka_wejsciowa, 1);

%siec jednowarstwa
%net = newlin(bramka_wejsciowa, 1);

%dane

A = [0;0;1;0;0;
     0;1;0;1;0;
     1;0;0;0;1;
     1;1;1;1;1;
     1;0;0;0;1];
 
a = [1;1;1;1;0;
     0;0;0;1;0;
     1;1;1;1;0;
     1;0;0;1;0;
     1;1;1;1;1];
  
B = [1;1;1;1;0;
     1;0;0;0;1;
     1;1;1;1;0;
     1;0;0;0;1;
     1;1;1;1;1];
 
b = [0;1;0;0;0;
     0;1;0;0;0;
     0;1;1;1;0;
     0;1;0;1;0;
     0;1;1;1;0];
 
C = [1;1;1;1;1;
     1;0;0;0;0;
     1;0;0;0;0;
     1;0;0;0;0;
     1;1;1;1;1];
 
c = [0;0;0;0;0;
     0;0;0;0;0;
     0;1;1;1;0;
     0;1;0;0;0;
     0;1;1;1;0];
 
D = [1;0;0;0;0;
     1;1;1;0;0;
     1;0;0;1;0;
     1;0;0;1;0;
     1;1;1;0;0];
 
d = [0;0;0;1;0;
     0;0;0;1;0;
     0;1;1;1;0;
     0;1;0;1;0;
     0;1;1;1;0];
 
E = [1;1;1;1;1;
     1;0;0;0;0;
     1;1;1;1;1;
     1;0;0;0;0;
     1;1;1;1;1];
 
e = [0;0;0;0;0;
     0;1;1;1;0;
     0;1;1;1;0;
     0;1;0;0;0;
     0;1;1;1;0;];
F = [1;1;1;1;1;
     1;0;0;0;0;
     1;1;1;1;0;
     1;0;0;0;0;
     1;0;0;0;0];
     
f = [0;0;0;0;0;
     0;1;1;0;0;
     0;1;0;0;0;
     0;1;1;0;0;
     0;1;0;0;0];
 
G = [1;1;1;1;1;
     1;0;0;0;0;
     1;0;1;1;0;
     1;0;0;0;1;
     0;1;1;1;0];
 
g = [0;0;0;0;0;
     0;1;1;1;0;
     0;1;1;1;0;
     0;0;0;1;0;
     0;1;1;1;0];
 
H = [1;0;0;0;1;
     1;0;0;0;1;
     1;1;1;1;1;
     1;0;0;0;1;
     1;0;0;0;1];
 
h = [0;1;0;0;0;
     0;1;0;0;0;
     0;1;1;1;0;
     0;1;0;1;0;
     0;1;0;1;0];
 
I = [0;1;1;1;0;
     0;0;1;0;0;
     0;0;1;0;0;
     0;0;1;0;0;
     0;1;1;1;0];
 
i = [0;0;0;0;0;
     0;0;1;0;0;
     0;0;0;0;0;
     0;0;1;0;0;
     0;0;1;0;0];
 
J = [0;1;1;1;1;
     0;0;0;0;1;
     0;0;0;0;1;
     0;1;0;0;1;
     0;0;1;1;0];
 
j = [0;0;1;0;0;
     0;0;0;0;0;
     0;0;1;0;0;
     0;0;1;0;0;
     0;1;1;0;0];
 
dane_wejsciowe_treningowe = [0 1 1 0 1 0 1 0 1 0 1 0 1 0 1 0 0 0;
 0 1 1 1 1 0 0 0 1 0 1 0 1 0 0 1 1 0;
 1 1 1 0 1 0 0 0 1 0 1 0 1 0 0 0 1 0;
 0 1 1 0 1 0 0 1 1 0 1 0 1 0 0 0 1 0;
 0 0 0 0 1 0 0 0 1 0 1 0 1 0 1 0 0 0;
 0 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 0 0;
 1 0 0 1 0 0 1 0 0 1 0 1 0 1 0 1 0 0;
 0 0 0 0 0 0 1 0 0 1 0 1 0 1 0 0 1 1;
 1 1 0 0 0 0 0 1 0 1 0 0 0 1 0 0 0 0;
 0 0 1 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0;
 1 1 1 0 1 0 1 0 1 0 1 0 1 0 1 0 0 0;
 0 1 1 1 0 1 0 1 1 1 1 1 0 1 1 1 0 0;
 0 1 1 1 0 1 0 1 1 1 1 0 1 1 1 1 1 0;
 0 1 1 1 0 1 1 1 1 1 1 0 1 1 1 1 0 0;
 1 0 0 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0;
 1 1 1 0 1 0 1 0 1 0 1 0 1 0 1 0 0 0;
 1 0 0 1 0 1 0 1 0 1 0 1 0 0 0 1 0 0;
 1 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 1 1;
 1 1 0 1 0 0 1 1 0 0 0 0 0 1 0 1 0 0;
 1 0 1 0 0 0 0 0 0 0 0 0 1 0 1 0 0 0;
 1 1 1 0 1 0 1 0 1 0 1 0 0 0 1 0 0 0;
 0 1 1 1 1 1 1 1 1 1 0 1 1 1 0 1 1 0;
 0 1 1 1 1 1 1 1 1 1 0 0 1 1 0 0 1 1;
 0 1 1 1 1 1 0 1 1 1 0 0 1 1 0 1 1 0;
 1 1 1 0 1 0 0 0 1 0 0 0 0 0 1 0 0 0]

% 1-wielka,0-mala litera
dane_wyjsciowe_treningowe = [1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0];

et.name = 'Wielkosc liter';
net.trainParam.epochs = 30000;

%b³¹d œredniokwadratowy
net.trainParam.goal = 0.001;
net.trainParam.mu = 0.01; 

net.trainParam.goal = 0.001;
net.trainParam.mu = 0.01; 

net = train(net, dane_wejsciowe_treningowe, dane_wyjsciowe_treningowe);

siec1 = sim(net, A);
siec2 = sim(net, a);

[siec1 siec2]
if round(siec1) <= 0
 disp('Ma³a litera');
else
 disp('Wielka litera');
end
if round(siec2) <= 0
 disp('Mala litera');
else
 disp('Wielka litera');
end 